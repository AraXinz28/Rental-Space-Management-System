<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.rental.controller.CheckPaymentStatusController"
            prefWidth="1200" prefHeight="800">

    <!-- ===== Header ===== -->
    <top>
        <fx:include source="header.fxml"/>
    </top>

    <!-- ===== Sidebar ===== -->
    <left>
        <fx:include source="/views/sidebaradmin.fxml"/>
    </left>

    <!-- ===== CONTENT ===== -->
    <center>
        <ScrollPane fitToWidth="true"
                    style="-fx-background:#f6f7f9;">
            <content>

                <VBox spacing="25"
                      style="-fx-background-color:#f6f7f9;">
                    <padding>
                        <Insets top="30" right="30" bottom="30" left="30"/>
                    </padding>

                    <!-- ===== FILTER ===== -->
                    <VBox spacing="15"
                          style="-fx-background-color:white; -fx-background-radius:12;">
                        <padding>
                            <Insets top="20" right="20" bottom="20" left="20"/>
                        </padding>

                    <HBox spacing="20" alignment="TOP_LEFT">

                                             <!-- ค้นหา -->
                              <VBox spacing="6">
                              <Label text="ค้นหา"
                          style="-fx-font-size:16; -fx-font-weight:bold;"/>
                     <TextField fx:id="txtSearch"
                                promptText="ชื่อลูกค้า / โซนล็อก"
                                prefWidth="260"
                                prefHeight="36"/>
                </VBox>

                                        <!-- การชำระเงิน -->
                         <VBox spacing="6">
                          <Label text="การชำระเงิน"
                         style="-fx-font-size:16; -fx-font-weight:bold;"/>
                     <ComboBox fx:id="cbMethod"
                            promptText="ทั้งหมด"
                            prefWidth="260"
                             prefHeight="36"/>
                    </VBox> 

                                      <!-- วันที่ชำระ -->
                            <VBox spacing="6">
                      <Label text="วันที่ชำระ"
                     style="-fx-font-size:16; -fx-font-weight:bold;"/>
                     <DatePicker fx:id="dpDate"
                             promptText="วันที่ชำระ"
                             prefWidth="260"
                             prefHeight="36"/>
                 </VBox>

                </HBox>

                        <HBox spacing="10">
                            <Button text="ดูหลักฐานการโอนเงิน"
                                    onAction="#handleViewProof"
                                    style="-fx-background-color:#34495e; -fx-text-fill:white;"/>

                            <Button text="กรองข้อมูล"
                                    onAction="#handleFilter"
                                    style="-fx-background-color:#3498db; -fx-text-fill:white;"/>

                            <Button text="รีเซ็ต"
                                    onAction="#handleReset"
                                    style="-fx-background-color:#6c757d;"/>
                        </HBox>
                    </VBox>

                    <!-- ===== TABLE ===== -->
                    <VBox spacing="10"
                          style="-fx-background-color:white; -fx-background-radius:12;">
                        <padding>
                            <Insets top="20" right="20" bottom="20" left="20"/>
                        </padding>

                        <Label text="รายการการชำระเงิน"
                               style="-fx-font-size:16; -fx-font-weight:bold;"/>

                        <TableView fx:id="paymentTable"
                                   prefHeight="220">

                            <columns>
                                
                                <TableColumn fx:id="colShop" text="ชื่อลูกค้า"/>
                                <TableColumn fx:id="colLock" text="โซน ล็อก"/>
                                <TableColumn fx:id="colMethod" text="วิธีชำระเงิน"/>
                                <TableColumn fx:id="colDeposit" text="ค่ามัดจำ"/>
                                <TableColumn fx:id="colRent" text="ค่าเช่า"/>
                                <TableColumn fx:id="colTotal" text="ยอดรวม"/>
                                <TableColumn fx:id="colDate" text="วันที่ชำระ"/>
                            </columns>

                        </TableView>
                    </VBox>

                <!-- ===== DETAIL ===== -->
<VBox spacing="15"
      style="-fx-background-color:white; -fx-background-radius:12;">
    <padding>
        <Insets top="20" right="20" bottom="20" left="20"/>
    </padding>

    <!-- หัวข้ออยู่ตลอด -->
    <Label text="รายละเอียดการชำระเงิน"
           style="-fx-font-size:16; -fx-font-weight:bold;"/>

    <!-- รายละเอียด (ว่างก่อน) -->
    <VBox spacing="6">
        <Label fx:id="lblMethod"/>
        <Label fx:id="lblDeposit"/>
        <Label fx:id="lblRent"/>
        <Label fx:id="lblTotal"/>
    </VBox>

    <!-- รูปสลิป -->
    <VBox alignment="CENTER">
        <ImageView fx:id="slipImage"
                   fitWidth="300"
                   preserveRatio="true"/>
    </VBox>

</VBox>

</VBox>

</content>
</ScrollPane>
</center>

</BorderPane>
