<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.collections.FXCollections?>
<?import java.lang.String?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ChoiceBox?>

<AnchorPane prefWidth="1280" prefHeight="700"
            xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.rental.controller.BookingController">

    <children>

        <!-- ================= HEADER ================= -->
        <fx:include fx:id="header" source="header.fxml"
                    AnchorPane.topAnchor="0"
                    AnchorPane.leftAnchor="0"
                    AnchorPane.rightAnchor="0"/>


        <!-- ================= MAIN CONTENT ================= -->
        <HBox spacing="0"
              AnchorPane.topAnchor="80"
              AnchorPane.leftAnchor="0"
              AnchorPane.rightAnchor="0"
              AnchorPane.bottomAnchor="0">

            <!-- =============== SIDEBAR =============== -->
            <fx:include fx:id="sidebar" source="sidebarTenant.fxml"/>

            <!-- =============== CONTENT SCROLL =============== -->
            <ScrollPane fitToWidth="true"
                        style="-fx-background-color: transparent;"
                        HBox.hgrow="ALWAYS">

                <VBox alignment="TOP_LEFT" spacing="30">
                    <padding><Insets top="40" bottom="60" left="40" right="40"/></padding>

                    <VBox spacing="15" HBox.hgrow="ALWAYS"
                          style="-fx-background-color: #FFFFFF; -fx-background-radius: 20;
                                 -fx-padding: 40;
                                 -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.18), 35, 0, 0, 12);">

                        <!-- ชื่อ section -->
                        <Label text="พื้นที่ให้เช่า" style="-fx-font-size: 32px; -fx-font-weight: bold;"/>

                        <Label fx:id="spaceIdLabel" text="A01"
                               style="-fx-font-size: 32px; -fx-font-weight: bold;"/>

                        <HBox alignment="CENTER">
                            <ImageView fitWidth="720" preserveRatio="true">
                                <image><Image url="images/space.jpg"/></image>
                            </ImageView>
                        </HBox>

                        <Separator/>

                        <!-- ราคาพื้นที่ -->
                        <HBox alignment="CENTER_LEFT" spacing="20">

                            <VBox alignment="CENTER" spacing="5" HBox.hgrow="ALWAYS"
                                  style="-fx-background-color: #F2F2F2;
                                         -fx-border-color: #D9D9D9; -fx-border-width: 1;
                                         -fx-background-radius: 12; -fx-border-radius: 12;
                                         -fx-padding: 15;">
                                <Label text="ต่อวัน" style="-fx-font-size: 15px; -fx-text-fill: #4D514C;"/>
                                <Label text="150 ฿" style="-fx-font-size: 24px; -fx-font-weight: bold;"/>
                            </VBox>

                            <VBox alignment="CENTER" spacing="5" HBox.hgrow="ALWAYS"
                                  style="-fx-background-color: #F2F2F2; -fx-border-color: #D9D9D9;
                                         -fx-border-width: 1; -fx-background-radius: 12;
                                         -fx-border-radius: 12; -fx-padding: 15;">
                                <Label text="ต่อเดือน" style="-fx-font-size: 15px; -fx-text-fill: #4D514C;"/>
                                <Label text="4,500 ฿" style="-fx-font-size: 24px; -fx-font-weight: bold;"/>
                            </VBox>

                            <VBox alignment="CENTER" spacing="5" HBox.hgrow="ALWAYS"
                                  style="-fx-background-color: #F2F2F2; -fx-border-color: #D9D9D9;
                                         -fx-border-width: 1; -fx-background-radius: 12;
                                         -fx-border-radius: 12; -fx-padding: 15;">
                                <Label text="มัดจำ/เดือน" style="-fx-font-size: 15px; -fx-text-fill: #4D514C;"/>
                                <Label text="2,500 ฿" style="-fx-font-size: 24px; -fx-font-weight: bold;"/>
                            </VBox>

                        </HBox>


                        <!-- ขนาดและประเภทสินค้า -->
                        <HBox spacing="40" alignment="CENTER_LEFT">

                            <VBox alignment="CENTER" spacing="5" HBox.hgrow="ALWAYS"
                                  style="-fx-background-color: #FFFFFF; -fx-border-color: #D9D9D9;
                                         -fx-border-width: 1; -fx-background-radius: 12;
                                         -fx-border-radius: 12; -fx-padding: 20;">
                                <Label text="ขนาดพื้นที่" style="-fx-font-size: 16px; -fx-font-weight: bold;" />
                                <Label fx:id="sizeLabel" text="3 × 3 เมตร"
                                       style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #4D514C;" />
                            </VBox>

                            <VBox alignment="CENTER" spacing="5" HBox.hgrow="ALWAYS"
                                  style="-fx-background-color: #FFFFFF; -fx-border-color: #D9D9D9;
                                         -fx-border-width: 1; -fx-background-radius: 12;
                                         -fx-border-radius: 12; -fx-padding: 20;">
                                <Label text="ประเภทสินค้าที่ขายได้"
                                       style="-fx-font-size: 16px; -fx-font-weight: bold;" />
                                <Label text="อาหาร/เครื่องดื่ม, ของสด / ผัก / ผลไม้"
                                       style="-fx-font-size: 24px; -fx-text-fill: #4D514C;" />
                            </VBox>

                        </HBox>

                        <Separator/>

                        <!-- สิ่งอำนวยความสะดวก -->
                        <VBox spacing="10"
                              style="-fx-background-color: #FFFFFF; -fx-border-color: #D9D9D9;
                                     -fx-border-width: 1; -fx-background-radius: 12;
                                     -fx-border-radius: 12; -fx-padding: 25;">
                            <Label text="สิ่งอำนวยความสะดวก"
                                   style="-fx-font-size: 24px; -fx-font-weight: bold;" />

                            <VBox spacing="5">

                                <HBox spacing="12" alignment="CENTER_LEFT">
                                    <ImageView fitHeight="20" fitWidth="20" preserveRatio="true">
                                        <image><Image url="images/check.png"/></image>
                                    </ImageView>
                                    <Label text="อุปกรณ์ไฟ (รองรับไฟฟ้า 5A / 10A / 15A)"
                                           style="-fx-font-size: 16px;" />
                                </HBox>

                                <HBox spacing="12" alignment="CENTER_LEFT">
                                    <ImageView fitHeight="20" fitWidth="20" preserveRatio="true">
                                        <image><Image url="images/check.png"/></image>
                                    </ImageView>
                                    <Label text="พื้นที่กว้างขวาง"
                                           style="-fx-font-size: 16px;" />
                                </HBox>

                                <HBox spacing="12" alignment="CENTER_LEFT">
                                    <ImageView fitHeight="20" fitWidth="20" preserveRatio="true">
                                        <image><Image url="images/check.png"/></image>
                                    </ImageView>
                                    <Label text="มีโต๊ะพับสีขาวให้"
                                           style="-fx-font-size: 16px;" />
                                </HBox>

                                <HBox spacing="12" alignment="CENTER_LEFT">
                                    <ImageView fitHeight="20" fitWidth="20" preserveRatio="true">
                                        <image><Image url="images/check.png"/></image>
                                    </ImageView>
                                    <Label text="ใกล้ประตูทางเข้า"
                                           style="-fx-font-size: 16px;" />
                                </HBox>

                                <HBox spacing="12" alignment="CENTER_LEFT">
                                    <ImageView fitHeight="20" fitWidth="20" preserveRatio="true">
                                        <image><Image url="images/check.png"/></image>
                                    </ImageView>
                                    <Label text="ใกล้ห้องน้ำ ปลอดภัย"
                                           style="-fx-font-size: 16px;" />
                                </HBox>

                            </VBox>
                        </VBox>

                        <Separator/>

                        <!-- ข้อกำหนด -->
                        <VBox spacing="10"
                              style="-fx-background-color: #FFFFFF; -fx-border-color: #D9D9D9;
                                     -fx-border-width: 1; -fx-background-radius: 12;
                                     -fx-border-radius: 12; -fx-padding: 25;">
                            <Label text="ข้อกำหนดและเงื่อนไข"
                                   style="-fx-font-size: 24px; -fx-font-weight: bold;" />

                            <VBox spacing="5">

                                <HBox spacing="12" alignment="CENTER_LEFT">
                                    <ImageView fitHeight="16" fitWidth="16" preserveRatio="true">
                                        <image><Image url="images/point.png"/></image>
                                    </ImageView>
                                    <Label text="พื้นที่ใช้เป็นวัตถุอุปโภคบริโภคของทางศาลาที่มีจำนวนมาก"
                                           style="-fx-font-size: 16px;" />
                                </HBox>

                                <HBox spacing="12" alignment="CENTER_LEFT">
                                    <ImageView fitHeight="16" fitWidth="16" preserveRatio="true">
                                        <image><Image url="images/point.png"/></image>
                                    </ImageView>
                                    <Label text="การใช้ไฟฟ้าต้องไม่เกิน 10A ตามที่กำหนด"
                                           style="-fx-font-size: 16px;" />
                                </HBox>

                                <HBox spacing="12" alignment="CENTER_LEFT">
                                    <ImageView fitHeight="16" fitWidth="16" preserveRatio="true">
                                        <image><Image url="images/point.png"/></image>
                                    </ImageView>
                                    <Label text="ผู้จองต้องดูแลทรัพย์สินของตนเอง พื้นที่ไม่รับผิดชอบของหายหรือสูญหายของสินค้า"
                                           style="-fx-font-size: 16px;" />
                                </HBox>

                                <HBox spacing="12" alignment="CENTER_LEFT">
                                    <ImageView fitHeight="16" fitWidth="16" preserveRatio="true">
                                        <image><Image url="images/point.png"/></image>
                                    </ImageView>
                                    <Label text="ผู้เช่าต้องเช็คอินร้านก่อน 15:00 น. ในวันที่รับร้านค้า"
                                           style="-fx-font-size: 16px;" />
                                </HBox>

                                <HBox spacing="12" alignment="CENTER_LEFT">
                                    <ImageView fitHeight="16" fitWidth="16" preserveRatio="true">
                                        <image><Image url="images/point.png"/></image>
                                    </ImageView>
                                    <Label text="ผู้จองต้องปฏิบัติตามเวลาเปิด–ปิดพื้นที่ตามที่ศาลากำหนด"
                                           style="-fx-font-size: 16px;" />
                                </HBox>

                                <HBox spacing="12" alignment="CENTER_LEFT">
                                    <ImageView fitHeight="16" fitWidth="16" preserveRatio="true">
                                        <image><Image url="images/point.png"/></image>
                                    </ImageView>
                                    <Label text="ผู้จองต้องรักษาความเรียบร้อยบริเวณรอบร้าน ไม่รบกวนผู้อื่น"
                                           style="-fx-font-size: 16px;" />
                                </HBox>

                                <HBox spacing="12" alignment="CENTER_LEFT">
                                    <ImageView fitHeight="16" fitWidth="16" preserveRatio="true">
                                        <image><Image url="images/point.png"/></image>
                                    </ImageView>
                                    <Label text="ไม่สามารถยกเลิกหรือขอรับเงินคืนหลังออกร้านให้ความยินยอมได้รับการอนุญาตแล้ว"
                                           style="-fx-font-size: 16px;" />
                                </HBox>

                                <HBox spacing="12" alignment="CENTER_LEFT">
                                    <ImageView fitHeight="16" fitWidth="16" preserveRatio="true">
                                        <image><Image url="images/point.png"/></image>
                                    </ImageView>
                                    <Label text="ห้ามทำการดัดแปลงพื้นที่หรือจัดโต๊ะอุปกรณ์ร้านค้าโดยไม่ได้รับอนุญาต"
                                           style="-fx-font-size: 16px;" />
                                </HBox>

                                <HBox spacing="12" alignment="CENTER_LEFT">
                                    <ImageView fitHeight="16" fitWidth="16" preserveRatio="true">
                                        <image><Image url="images/point.png"/></image>
                                    </ImageView>
                                    <Label text="ผู้จองต้องรักษาความสะอาดของพื้นที่และเก็บขยะของตนเองทิ้งให้ถูกที่"
                                           style="-fx-font-size: 16px;" />
                                </HBox>

                                <HBox spacing="12" alignment="CENTER_LEFT">
                                    <ImageView fitHeight="16" fitWidth="16" preserveRatio="true">
                                        <image><Image url="images/point.png"/></image>
                                    </ImageView>
                                    <Label text="การออกร้านในพื้นที่ต้องไม่มีการร้องเรียนรบกวนเสียงดังรบกวน"
                                           style="-fx-font-size: 16px;" />
                                </HBox>

                            </VBox>

                            <CheckBox fx:id="agreeCheckBox"
                                      text="ข้าพเจ้ายินยอมในข้อกำหนดและเงื่อนไขในการออกร้านข้างต้น"
                                      style="-fx-font-size: 16px;" />

                        </VBox>

                        <Separator/>

                        <!-- ข้อมูลลูกค้า -->
                        <Label text="สร้างรายการจองพื้นที่" style="-fx-font-size: 24px; -fx-font-weight: bold;"/>

                        <Label text="ข้อมูลลูกค้า" style="-fx-font-size: 18px; -fx-font-weight: semi-bold;"/>

                        <VBox spacing="5" fillWidth="true">

                            <VBox spacing="5">
                                <Label text="ชื่อ - นามสกุล" style="-fx-font-size: 16px;"/>
                                <TextField promptText="ชื่อ - นามสกุล" style="-fx-pref-height: 40;"/>
                            </VBox>

                            <HBox spacing="20">
                                <VBox spacing="5" HBox.hgrow="ALWAYS">
                                    <Label text="อีเมล" style="-fx-font-size: 16px;"/>
                                    <TextField promptText="อีเมล" style="-fx-pref-height: 40;"/>
                                </VBox>

                                <VBox spacing="5" HBox.hgrow="ALWAYS">
                                    <Label text="เบอร์โทรศัพท์" style="-fx-font-size: 16px;"/>
                                    <TextField promptText="เบอร์โทรศัพท์" style="-fx-pref-height: 40;"/>
                                </VBox>
                            </HBox>

                            <HBox spacing="20">

                                <VBox spacing="5" HBox.hgrow="ALWAYS">
                                    <Label text="วันที่เริ่มต้น" style="-fx-font-size: 16px;"/>
                                    <DatePicker style="-fx-pref-height: 40;" />
                                </VBox>

                                <VBox spacing="5" HBox.hgrow="ALWAYS">
                                    <Label text="วันที่สิ้นสุด" style="-fx-font-size: 16px;"/>
                                    <DatePicker style="-fx-pref-height: 40;" />
                                </VBox>

                                <VBox spacing="5" HBox.hgrow="ALWAYS">
                                    <Label text="ประเภทสินค้า" style="-fx-font-size: 16px;"/>
                                    <ChoiceBox style="-fx-pref-height: 40;
                                                      -fx-background-color: white;
                                                      -fx-border-color: #D0D0D0;
                                                      -fx-border-radius: 5;
                                                      -fx-background-radius: 5;">
                                        <items>
                                            <FXCollections fx:factory="observableArrayList">
                                                <String fx:value="อาหาร / เครื่องดื่ม"/>
                                                <String fx:value="แฟชั่น / เสื้อผ้า"/>
                                                <String fx:value="เครื่องประดับ / กระเป๋า / รองเท้า"/>
                                                <String fx:value="ของใช้ในบ้าน / ของตกแต่ง"/>
                                                <String fx:value="เบ็ดเตล็ด / สินค้าทั่วไป"/>
                                                <String fx:value="ของสด / ผัก / ผลไม้"/>
                                                <String fx:value="ความงาม / สกินแคร์"/>
                                                <String fx:value="ของเล่น / โมเดล"/>
                                                <String fx:value="งานแฮนด์เมด / งานคราฟต์"/>
                                                <String fx:value="สินค้าสัตว์เลี้ยง"/>
                                            </FXCollections>
                                        </items>
                                    </ChoiceBox>
                                </VBox>

                            </HBox>

                        </VBox>

                        <Separator/>

                        <!-- สรุป -->
                        <VBox spacing="10">

                            <Label text="สรุปการจอง"
                                   style="-fx-font-size: 24px; -fx-font-weight: bold;" />

                            <Separator/>

                            <HBox alignment="CENTER_LEFT">
                                <Label text="หมายเลขพื้นที่"
                                       style="-fx-font-size: 18px;"/>
                                <Region HBox.hgrow="ALWAYS"/>
                                <Label fx:id="summarySpaceId" text="A01"
                                       style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
                            </HBox>

                            <Separator/>

                            <HBox alignment="CENTER_LEFT">
                                <Label text="ค่ามัดจำ"
                                       style="-fx-font-size: 18px;"/>
                                <Region HBox.hgrow="ALWAYS"/>
                                <Label fx:id="summaryDeposit" text="0 ฿"
                                       style="-fx-font-size: 18px; -fx-font-weight: bold;"/>   
                            </HBox>
                             <HBox alignment="CENTER_LEFT">
                                <Label text="ค่าเช่าทั้งหมด"
                                       style="-fx-font-size: 18px;"/>
                                <Region HBox.hgrow="ALWAYS"/>
                                <Label fx:id="summaryRent"
                                       text="150 ฿"
                                       style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
                            </HBox>
                            <HBox alignment="CENTER_LEFT">
                                <Label text="ยอดชำระทั้งหมด"
                                       style="-fx-font-size: 18px;"/>
                                <Region HBox.hgrow="ALWAYS"/>
                                <Label fx:id="summaryTotal"
                                       text="150 ฿"
                                       style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
                            </HBox>
 <Separator/>

                        <HBox spacing="20" alignment="CENTER">
                            <Button text="ยกเลิก"
                                    onAction="#handleCancel"
                                    style="-fx-background-color: #D3D3D3; -fx-text-fill: #333;
                                           -fx-font-size: 18px; -fx-font-weight: bold; -fx-background-radius: 14;"
                                    prefWidth="140" prefHeight="55"/>
                            <Button text="ยืนยันการจอง"
                                    onAction="#handleBooking"
                                    disable="${!agreeCheckBox.selected}"
                                    style="-fx-background-color: #2E355E; -fx-text-fill: white;
                                           -fx-font-size: 18px; -fx-font-weight: bold; -fx-background-radius: 14;"
                                    prefWidth="140" prefHeight="55"/>
                        </HBox>

                            <!-- (ส่วนอื่น ๆ ที่คุณยังไม่ได้ส่งมาจะต่อจากนี้ได้เลย) -->

                        </VBox>

                    </VBox>
                </VBox>
            </ScrollPane>

        </HBox>
    </children>

</AnchorPane>