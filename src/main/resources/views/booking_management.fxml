<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>


<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.rental.controller.BookingManagementController"
            style="-fx-background-color: #f8f9fa;">

    <!-- ===== Header ด้านบน ===== -->
    <top>
        <fx:include fx:id="header" source="header.fxml"/>
    </top>

    <!-- ===== Sidebar ด้านซ้าย ===== -->
    <left>
        <fx:include fx:id="menu" source="/views/sidebaradmin.fxml"/>
    </left>

    <!-- ===== Center: Filter + TableView ===== -->
    <center>
        <VBox spacing="20" VBox.vgrow="ALWAYS">
            <padding><Insets top="20" right="30" bottom="30" left="30"/></padding>
            

            <!-- Filter Section -->
            <VBox spacing="30"
                  style="-fx-background-color: white;
                         -fx-border-color: #dee2e6;
                         -fx-border-width: 0 0 2 0;">
                <HBox spacing="15" alignment="CENTER_LEFT">
                    <Label text="ค้นหา:" style="-fx-font-weight: bold;"/>
                    <TextField fx:id="searchField" promptText="ชื่อลูกค้า หรือ โซน" prefWidth="250"/>
                    <Label text="โซน:" style="-fx-font-weight: bold;"/>
                    <ComboBox fx:id="zoneCombo" promptText="ทุกโซน" prefWidth="120"/>
                    <Label text="ช่องทางการชำระเงิน:" style="-fx-font-weight: bold;"/>
                    <ComboBox fx:id="paymentCombo" promptText="ทุกช่องทาง" prefWidth="160"/>
                    <Label text="วันที่:" style="-fx-font-weight: bold;"/>
                    <DatePicker fx:id="datePicker" promptText="เลือกวัน" prefWidth="150"/>
                </HBox>

                <HBox spacing="15" alignment="CENTER_LEFT">
                    <Button fx:id="resetBtn" text="รีเซ็ต"
                            style="-fx-background-color: #6c757d; -fx-text-fill: white;"
                            prefWidth="130" prefHeight="35"/>
                </HBox>
            </VBox>

            <!-- Table Section -->
            <Label text="รายการจองทั้งหมด"
                   style="-fx-font-size: 18; -fx-font-weight: bold;"/>

            <TableView fx:id="bookingTable" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="colName" text="ชื่อ-สกุลลูกค้า" prefWidth="220"/>
                    <TableColumn fx:id="colDate" text="วันที่ทำรายการ" prefWidth="140"/>
                    <TableColumn fx:id="colZone" text="โซน" prefWidth="80" style="-fx-alignment: CENTER;"/>
                    <TableColumn fx:id="colPayment" text="ช่องทางการชำระเงิน" prefWidth="160"/>
                    <TableColumn fx:id="colApprove" text="อนุมัติ" prefWidth="100" style="-fx-alignment: CENTER;"/>
                    <TableColumn fx:id="colReject" text="ไม่อนุมัติ" prefWidth="100" style="-fx-alignment: CENTER;"/>
                </columns>
                <columnResizePolicy>
                    <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                </columnResizePolicy>
            </TableView>
        </VBox>
    </center>

    <!-- ===== ปุ่มบันทึกด้านล่าง ===== -->
    <bottom>
        <HBox alignment="CENTER_RIGHT">
            <padding><Insets top="15" right="30" bottom="20" left="20"/></padding>
            <Button fx:id="saveBtn" text="บันทึก"
                    style="-fx-background-color: #28a745; -fx-text-fill: white;
                           -fx-font-size: 14; -fx-font-weight: bold;"
                    prefWidth="140" prefHeight="45"/>
        </HBox>
    </bottom>

</BorderPane>
