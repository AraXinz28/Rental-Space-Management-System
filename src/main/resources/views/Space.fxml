<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.Rectangle?>

<AnchorPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            style="-fx-background-color: #f8f9fa; -fx-font-family: 'Tahoma', 'SansSerif';"
            fx:controller="com.rental.controller.SpaceController">

    <fx:include fx:id="header" source="header.fxml"
                AnchorPane.topAnchor="0"
                AnchorPane.leftAnchor="0"
                AnchorPane.rightAnchor="0"/>

    <HBox spacing="0"
          AnchorPane.topAnchor="80"
          AnchorPane.leftAnchor="0"
          AnchorPane.rightAnchor="0"
          AnchorPane.bottomAnchor="0">

        <fx:include fx:id="sidebar" source="sidebarTenant.fxml"/>

        <VBox spacing="20" HBox.hgrow="ALWAYS">
            <padding>
                <Insets top="20" right="40" bottom="40" left="40"/>
            </padding>

            <children>

                <Label text="ค้นหาพื้นที่"
                       style="-fx-font-size:24px; -fx-font-weight:bold;"/>

                <HBox spacing="20" alignment="CENTER_LEFT">
                    <TextField promptText="โซน, หมายเลขโซน" prefWidth="300"/>
                    <ComboBox fx:id="zoneCombo" promptText="ทุกโซน" prefWidth="180"/>
                    <ComboBox fx:id="statusCombo" promptText="ทุกสถานะ" prefWidth="180"/>
                    <ComboBox fx:id="typeCombo" promptText="เลือกประเภทสินค้า" prefWidth="180"/>
                </HBox>

                <HBox spacing="20" alignment="CENTER_LEFT">
                    <Label text="วันที่ต้องการเช่า"/>
                    <DatePicker/>
                    <Button text="ล้างตัวกรอง"/>
                    <Button text="ค้นหา"/>
                </HBox>

                <Separator/>

                <Label text="ผังเเผนที่"
                       style="-fx-font-size:20px; -fx-font-weight:bold;"/>

                <TabPane fx:id="tabPane" tabClosingPolicy="UNAVAILABLE">
                    <tabs>
                        <Tab text="โซน A"/>
                        <Tab text="โซน B"/>
                        <Tab text="โซน C"/>
                        <Tab text="โซน D"/>
                        <Tab text="โซน E"/>
                        <Tab text="โซน F"/>
                        <Tab text="โซน G"/>
                    </tabs>
                </TabPane>

                <HBox spacing="30" alignment="CENTER_LEFT">
                    <HBox spacing="8">
                        <Rectangle width="20" height="20" fill="#2e8b61ff"/>
                        <Label text="ว่าง 13"/>
                    </HBox>
                    <HBox spacing="8">
                        <Rectangle width="20" height="20" fill="#982d2dff"/>
                        <Label text="ถูกเช่า 15"/>
                    </HBox>
                    <HBox spacing="8">
                        <Rectangle width="20" height="20" fill="#bac04dff"/>
                        <Label text="กำลังดำเนินการ 4"/>
                    </HBox>
                    <HBox spacing="8">
                        <Rectangle width="20" height="20" fill="#6c757d"/>
                        <Label text="ปิดปรับปรุง 2"/>
                    </HBox>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Button text="คลิกที่นี่เพื่อดูผังพื้นที่"
                            onAction="#handleShowMap"
                            style="-fx-background-color:transparent; -fx-underline:true;
                             -fx-text-fill: #778cabff;
                                       -fx-underline: true;"/>

                </HBox>

                <!-- ================= GRID ================= -->
                <GridPane fx:id="spaceGrid" hgap="15" vgap="15" alignment="CENTER">
                    <columnConstraints>
                        <ColumnConstraints prefWidth="120"/>
                        <ColumnConstraints prefWidth="120"/>
                        <ColumnConstraints prefWidth="120"/>
                        <ColumnConstraints prefWidth="120"/>
                        <ColumnConstraints prefWidth="120"/>
                    </columnConstraints>

                    <children>

                        <!-- ROW 0 -->
                        <VBox GridPane.rowIndex="0" GridPane.columnIndex="0"
                              alignment="CENTER" onMouseClicked="#handleSpaceClick"
                              style="-fx-background-color:#2e8b61ff; -fx-background-radius:12;">
                            <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
                            <Label text="A01" style="-fx-font-size:18; -fx-font-weight:bold;"/>
                            <Label text="3 x 3"/>
                        </VBox>

                        <VBox GridPane.rowIndex="0" GridPane.columnIndex="1"
                              alignment="CENTER" onMouseClicked="#handleSpaceClick"
                              style="-fx-background-color:#bac04dff; -fx-background-radius:12;">
                            <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
                            <Label text="A02" style="-fx-font-size:18; -fx-font-weight:bold;"/>
                            <Label text="3 x 3"/>
                        </VBox>

                        <VBox GridPane.rowIndex="0" GridPane.columnIndex="2"
                              alignment="CENTER" onMouseClicked="#handleSpaceClick"
                              style="-fx-background-color:#982d2dff; -fx-background-radius:12;">
                            <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
                            <Label text="A03" style="-fx-font-size:18; -fx-font-weight:bold;"/>
                            <Label text="3 x 3"/>
                        </VBox>

                        <VBox GridPane.rowIndex="0" GridPane.columnIndex="3"
                              alignment="CENTER" onMouseClicked="#handleSpaceClick"
                              style="-fx-background-color:#982d2dff; -fx-background-radius:12;">
                            <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
                            <Label text="A04" style="-fx-font-size:18; -fx-font-weight:bold;"/>
                            <Label text="3 x 3"/>
                        </VBox>

                        <VBox GridPane.rowIndex="0" GridPane.columnIndex="4"
                              alignment="CENTER" onMouseClicked="#handleSpaceClick"
                              style="-fx-background-color:#2e8b61ff; -fx-background-radius:12;">
                            <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
                            <Label text="A05" style="-fx-font-size:18; -fx-font-weight:bold;"/>
                            <Label text="3 x 3"/>
                        </VBox>

                        <!-- ROW 1 -->
                        <VBox GridPane.rowIndex="1" GridPane.columnIndex="0"
                              alignment="CENTER" onMouseClicked="#handleSpaceClick"
                              style="-fx-background-color:#2e8b61ff; -fx-background-radius:12;">
                            <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
                            <Label text="A06" style="-fx-font-size:18; -fx-font-weight:bold;"/>
                            <Label text="3 x 3"/>
                        </VBox>

                        <VBox GridPane.rowIndex="1" GridPane.columnIndex="1"
                              alignment="CENTER" onMouseClicked="#handleSpaceClick"
                              style="-fx-background-color:#2e8b61ff; -fx-background-radius:12;">
                            <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
                            <Label text="A07" style="-fx-font-size:18; -fx-font-weight:bold;"/>
                            <Label text="3 x 3"/>
                        </VBox>

                        <VBox GridPane.rowIndex="1" GridPane.columnIndex="2"
                              alignment="CENTER" onMouseClicked="#handleSpaceClick"
                              style="-fx-background-color:#2e8b61ff; -fx-background-radius:12;">
                            <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
                            <Label text="A08" style="-fx-font-size:18; -fx-font-weight:bold;"/>
                            <Label text="3 x 3"/>
                        </VBox>

                        <VBox GridPane.rowIndex="1" GridPane.columnIndex="3"
                              alignment="CENTER" onMouseClicked="#handleSpaceClick"
                              style="-fx-background-color:#bac04dff; -fx-background-radius:12;">
                            <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
                            <Label text="A09" style="-fx-font-size:18; -fx-font-weight:bold;"/>
                            <Label text="3 x 3"/>
                        </VBox>

                        <VBox GridPane.rowIndex="1" GridPane.columnIndex="4"
                              alignment="CENTER" onMouseClicked="#handleSpaceClick"
                              style="-fx-background-color:#bac04dff; -fx-background-radius:12;">
                            <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
                            <Label text="A10" style="-fx-font-size:18; -fx-font-weight:bold;"/>
                            <Label text="3 x 3"/>
                        </VBox>

                        <!-- ROW 2 -->
                        <VBox GridPane.rowIndex="2" GridPane.columnIndex="0"
                              alignment="CENTER" onMouseClicked="#handleSpaceClick"
                              style="-fx-background-color:#6c757d; -fx-background-radius:12;">
                            <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
                            <Label text="A11" style="-fx-font-size:18; -fx-font-weight:bold;"/>
                            <Label text="3 x 3"/>
                        </VBox>

                        <VBox GridPane.rowIndex="2" GridPane.columnIndex="1"
                              alignment="CENTER" onMouseClicked="#handleSpaceClick"
                              style="-fx-background-color:#982d2dff; -fx-background-radius:12;">
                            <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
                            <Label text="A12" style="-fx-font-size:18; -fx-font-weight:bold;"/>
                            <Label text="3 x 3"/>
                        </VBox>

                        <VBox GridPane.rowIndex="2" GridPane.columnIndex="2"
                              alignment="CENTER" onMouseClicked="#handleSpaceClick"
                              style="-fx-background-color:#2e8b61ff; -fx-background-radius:12;">
                            <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
                            <Label text="A13" style="-fx-font-size:18; -fx-font-weight:bold;"/>
                            <Label text="3 x 3"/>
                        </VBox>

                        <VBox GridPane.rowIndex="2" GridPane.columnIndex="3"
                              alignment="CENTER" onMouseClicked="#handleSpaceClick"
                              style="-fx-background-color:#6c757d; -fx-background-radius:12;">
                            <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
                            <Label text="A14" style="-fx-font-size:18; -fx-font-weight:bold;"/>
                            <Label text="3 x 3"/>
                        </VBox>

                        <VBox GridPane.rowIndex="2" GridPane.columnIndex="4"
                              alignment="CENTER" onMouseClicked="#handleSpaceClick"
                              style="-fx-background-color:#2e8b61ff; -fx-background-radius:12;">
                            <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
                            <Label text="A15" style="-fx-font-size:18; -fx-font-weight:bold;"/>
                            <Label text="3 x 3"/>
                        </VBox>

                    </children>
                </GridPane>

            </children>
        </VBox>
    </HBox>
</AnchorPane>
